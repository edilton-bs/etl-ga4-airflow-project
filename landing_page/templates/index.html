<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aluga Filmes</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
   <script src="{{ url_for('static', filename='cart-badge.js') }}"></script>

</head>
<body>

  <header>
    <h1>Aluga Filmes</h1>
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/catalog">Cat√°logo</a></li>
        <li><a href="/cart">Carrinho <span id="cart-count" class="cart-count-badge">0</span></a></li>
      </ul>
    </nav>
  </header>

  

    <section class="top-films">
    <h2>Top 10 filmes da semana</h2>
    <div class="films-container">
      {% for movie in movies %}
      <div class="film-card">
        {% if movie.poster %}
        <img src="{{ movie.poster }}" alt="{{ movie.title }}">
        {% endif %}
        <div class="film-info">
          <h3>{{ movie.title }}</h3>
          {% if movie.trailer %}
          <a href="{{ movie.trailer }}" target="_blank">
            <button>Assistir trailer</button>
          </a>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

    
  </section>
  <object data="" type="">   </object>
  <footer>
    <p>&copy; 2025 Aluga Filmes. Todos os direitos reservados.</p>
  </footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.btn-alugar').forEach(btn => {
    btn.addEventListener('click', () => {
      const filme = {
        title: btn.dataset.title,
        img: btn.dataset.img,
        price: btn.dataset.price
      };
      localStorage.setItem('ultimoFilme', JSON.stringify(filme));
      showPopup('Filme adicionado ao carrinho!');
    });
  });
});

  </script>



</body>
</html>
